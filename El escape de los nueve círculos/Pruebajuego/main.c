#include <stdio.h>
#include <allegro5/allegro.h>
#include <allegro5/allegro_image.h>
#include <allegro5/allegro_audio.h>
#include <allegro5/allegro_acodec.h>
ALLEGRO_BITMAP *MENUPRIMERO,*MENUSEGUNDO,*MENUTERCERO,*MENUCUARTO,*MENUINSTRUCCIONES,*MENUINSTRUCCIONES2,*MUNDOSPRUEBA,*MundosSelect,*MUÑECOPRUEBA,*MUNDO1FRAUDE,*MUNDO2TRAICION,*MUNDO3VIOLENCIA,*MUNDO4HEREJIA,*MUNDO5PEREZA,*MUNDO6AVARICIA,*MUNDO7GULA,*MUNDO8LUJURIA,*MUNDO9LIMBO,*LABERINTOCINCO,*GANASTE,*ICONO;
ALLEGRO_SAMPLE *musica_fondo;
int MUNDOUNO=0,MUNDODOS=0,MUNDOTRES=0,MUNDOCUATRO=0,MUNDOCINCO=0,MUNDOSEIS=0,MUNDOSIETE=0;
int ganaste_lab(int x_matriz, int y_matriz){
    int win=0;//falso
    if(MUNDOUNO==1){
        if(x_matriz>=16 && x_matriz<=18 && y_matriz>=65)
            win=1;
    }
    if(MUNDODOS==1){
        if(y_matriz==39)
            win=1;
    }
    if(MUNDOTRES==1){
        if(x_matriz==9 && y_matriz>=1 && y_matriz<=4)
            win=1;
    }
    if(MUNDOCUATRO==1){
        if(x_matriz==9 && y_matriz<=2)
            win=1;
    }
    if(MUNDOCINCO==1){
        if(x_matriz==6 && y_matriz>=11 && y_matriz<=14)
            win=1;
    }
    if(MUNDOSEIS==1){
        if(y_matriz==39)
            win=1;
    }
    return win;
}
void mario_camina(int XX, int DIRECTION, int mov_Mario){
    int i, j;
    for(i=720;i<=970;i+=250){
        if(DIRECTION==1)  //if (viendo hacia la izquierda)
            if(XX>0 && XX<2300)
                al_draw_scaled_bitmap(MUÑECOPRUEBA,i,0,270,385,1200/2-130,330,138,200,0);//mario estatico
            else
                al_draw_scaled_bitmap(MUÑECOPRUEBA,i,0,270,385,mov_Mario,330,138,200,0);//mario movible
        else
        if(XX>0 && XX<2300)
            al_draw_scaled_bitmap(MUÑECOPRUEBA,i,0,270,385,1200/2-130,330,138,200,ALLEGRO_FLIP_HORIZONTAL);//mario estatico
        else
            al_draw_scaled_bitmap(MUÑECOPRUEBA,i,0,270,385,mov_Mario,330,138,200,ALLEGRO_FLIP_HORIZONTAL);//mario movible
        al_flip_display();
    }
}
int main() {
    int fin = 0, redibujar = 1;
    int MENU=1,SELECCIONAR=0, DENTROMUNDO=0;
    int SALTAR=0,DERECHA=0,IZQUIERDA=0,ABAJO=0,ARRIBA=0,SUMAIZQUIERDAMOV=0;
    int CAMINA=0,NN=0;
    ALLEGRO_DISPLAY *DISP;
    ALLEGRO_EVENT_QUEUE *eventos;
    ALLEGRO_EVENT evento;
    int DIRECTION=1, marioX=0, marioY=200, x_matriz=16,y_matriz=1;
    //Laberinto1
    char laberinto_matriz[48][71] = {
            "11111111111111111111111111111111111111111111111111111111111111111111111",
            "11111111111111111111111111111111111111111111111111111111111111111111111",
            "11111111111111110011001100000000000000000001101111111111111111111111111",
            "11111111111111110011001100000000000000000001101111111111111111111111111",
            "11111111111100000011001100000000000000000001101111111111111111111111111",
            "11111111111100000011001100111111111111111001100000000000011111111111111",
            "11111111111100000011001100111111111111111001101111111100011111111111111",
            "11111111111100111000000000111111111111111001101111111100011111111111111",
            "11111111111100111000000000111111111111111001101111111100011011001111111",
            "11111111111100111011001100111111111111111001100011011000011011001111111",
            "11111111111100111011001100111111111111111001100011011000011011001111111",
            "11111111111100111011001100111111111111110011100011011000011011001111111",
            "11111111111100111011001100111110000000000011100011011000011011001111111",
            "11111111111100111011001100000110000000000011100011011000011011001111111",
            "11111111111100111011001100000111111111111011100011011000011011001111111",
            "11111111111100111011001100100111111111111011111011011000011011001111111",
            "10000000000000111000001100100111111111111011111011000000000000000000000",
            "10000000000000111000001100100000000000011000000011000000000000000000000",
            "10000000000000111000001100100000000000011000000011000000000000000000000",
            "11111111111100111111111111100111111111111001111111111110011011001111111",
            "11111111111100111111111111100111111111111001111111111110011011001111111",
            "11111111111100111111111111100111111111111001111111111110011011001111111",
            "11111111111100111111111111100111111111111001111111111110011011001111111",
            "11111111111100111000000000000000000000000001100000000110011011001111111",
            "11111111111100111000111111100111111111111001100000000110011011001111111",
            "11111111111100111000111111100111111111111001100000000110011011001111111",
            "11111111111100111000110000000111111111111001100011000110011011001111111",
            "11111111111100111000110000000111111111111001100011000110011111001111111",
            "11111111111100111000110000000111111111111001100011000110011111001111111",
            "11111111111100111000110000000110000011000001100011000110011111001111111",
            "11111111111100111000110001100110000011000000100011000110011111001111111",
            "11111111111100111000110001100110011011001111100011000110011111001111111",
            "1111111111110011100000000110011001101100110000111000110011111001111111",
            "11111111111100111000000001100110011011001100000111000110011111001111111",
            "11111111111100111111111001100000011000001100000111000110011111001111111",
            "11111111111100111111111001100000011000001100011111000000011111001111111",
            "11111111111100000000000001100000011000001100011111000000000000001111111",
            "11111111111100000000000001100000011000000000011111000000000000001111111",
            "11111111111100000000000001100000011000000000011111000000000000001111111",
            "11111111111100000000000001100000011000000000011111000000000000001111111",//Manual
            "11111111111100000000000001100000011000000000011111000000000000001111111",//Manual
            "11111111111111111111111111111111111111111111111111111111111111111111111",
            "11111111111111111111111111111111111111111111111111111111111111111111111",
            "11111111111111111111111111111111111111111111111111111111111111111111111",
            "11111111111111111111111111111111111111111111111111111111111111111111111",
            "11111111111111111111111111111111111111111111111111111111111111111111111",
            "11111111111111111111111111111111111111111111111111111111111111111111111",
            "11111111111111111111111111111111111111111111111111111111111111111111111",
    };
    //Laberinto2 Traición
    char laberinto2[45][71] = {
            "111111111111111111111111111111111111111111",
            "111111111111111111111111111111111111111111",
            "111111111111111111111111111111111111111111",
            "111100000000100000011000000000000000001111",
            "111100000000100000011000000000000000001111",
            "111100000000100000011000000000000000001111",
            "111100011111111110011111111111000110001111",
            "111100011111111110011111111111000110001111",
            "111100000000000000011000000000000110001111",
            "111100000000000000011000000000000110001111",
            "111100000000000000011000111111000110000000",
            "111100010001111111111000000000000110000000",
            "111100010000000000011000000000000110000000",
            "111100010000000000011000110011000111111111",
            "111100010000000000011000110011000111111111",
            "111100010001111111111000110011000110001111",
            "111100010001111111111000110011000110001111",
            "111100010000000000000000110011000110001111",
            "111100010000000000000000110011000110001111",
            "111100010001111111111000110011111110001111",
            "000000010001111111111000110011111110001111",
            "000000000000000000011000110000000110001111",
            "000000000000000000011000110000000110001111",
            "111100011111111111111000110000000110001111",
            "111100011111111111111000110011111110001111",
            "111100000000000000011000000011111110001111",
            "111100000000000000011000000000000000001111",
            "111100000000000000011000000000000000001111",
            "111111111111111111111111111111111111111111",
            "111111111111111111111111111111111111111111",
            "111111111111111111111111111111111111111111",
            "111111111111111111111111111111111111111111",
    };
    //Laberinto3 Zarco(1)
    char laberinto3[45][71] = {
            "11111111111111111111111111111111111111111111111111111111111111111111111",
            "10000000000000000000000000000000000000000000000000000000111100000000001",
            "10000000000000000000000000000000000000000000000000000000111100000000001",
            "10000000000000000000000000000000000000000000000000000000111100000000001",
            "10000000000000000000000000000000000000000000000000000000111100000000001",
            "10000000000000000000000000000000000000001111111111110000111100000011111",
            "10000111111111111111111111111111111111111111111111110000111100000011111",
            "10000111111111111111111111111111111111111111111111110000111100000011111",
            "10000111111111111111111111111111111111110000000011110000000000000011111",
            "10000111111111111111111111111111111111110000000011110000000000000011111",
            "10000111100000000000000001111000000000000000000011110000000000000011111",
            "10000111100000000000000001111000000000000000000011111111111111000011111",
            "10000111100000000000000001111000000000000000000011111111111111000011111",
            "11111111100001111000000001111111111111110000000011111111111111000011111",
            "11111111100001111000000001111111111111110000000011111111111111000000001",
            "11111111100001111000000001111111111111110000000000000011110000000000001",
            "10000000000001111000000001111000000000000000000000000011110000000000001",
            "10000000000001111000000001111000000000000000000000000011110000000000001",
            "10000000000001111111100001111000000000000011110000000011110000000111111",
            "10000111111111111111100001111111111100000011110000000011110000000111111",
            "10000111111111111111100001111111111100000011110000000011110000000111111",
            "10000111111111111111100001111111111100000011110000000000000001111111111",
            "10000111111111111111100001111111111100000011110000000000000001111111111",
            "10000000000000000111100000000000111100000011110000000000000001111111111",
            "10000000000000000111100000000000111100000011110000000000001111111111111",
            "10000000000000000111100000000000111100000011110000000000001111111111111",
            "10000000000000000111100011111111111100000011110000111100001111111111111",
            "11111111111110000111100011111111111100000011110000111100000000000000001",
            "11111111111110000111100011111111111100000000000000111100000000000000001",
            "11111111111110000111100011111111111100000000000000111100000000000000001",
            "11111111111110000111100000001111111100000000000000111100000000000000001",
            "10000111100000000111100000001111111100001111111111111111111111111100001",
            "10000111100001111111111100001111000000001111111111111111111111111100001",
            "10000111100001111111111100001111000000001111111111111111111111111100001",
            "10000111100001111111111100001111000000000000001111111100000000111100001",
            "10000111100001111111111100001111000000000000001111111100000000111100001",
            "10000111100001111000000000001111000000000000001111000000000000111100001",
            "10000111100001111000000000001111000000000000001111000000000000111100001",
            "10000111100001111000000000001111000000000000001111000000000000111100001",
            "10000111100001111000111111111111111111111100001111000011110000111100001",
            "10000111100001111000111111111111111111111100001111000011110000111100001",
            "10000000000001111000111111111111111111111100000000000011110000000000001",
            "10000000000001111000000000000000000000000000000000000011110000000000001",
            "10000000000001111000000000000000000000000000000000000011110000000000001",
            "11111111111111111111111111111111111111111111111111111111111111111111111",
    };
    //Laberinto4 Sebastián
    char LaberintoCinco_Matriz[33][51]= {
            "11111111100000000000000000000000000000000000000000",
            "11111111100000111111111111111111111111111111111000",
            "00000000000000000000000000000000000000000000011000",
            "00000001111111111111111000000000000000000000011000",
            "00000001111111111111111000000011111111111111011000",
            "00000000000000000000011000000011111111111111011000",
            "00011111111111110000011111110010000000001101011000",
            "00011111111111110000011111110010000000001101011000",
            "00011111111111110000011111110010000000001101011000",
            "00011000000000110000000000110011111111101101011000",
            "00011000000000110011111111110011111111101101011000",
            "00011000000000110011111111110000000001101101011000",
            "00011000000000110011000000000000000001101101011000",
            "11111000000000110011000000000000000001101101011000",
            "00000000000000110011000000000111111101101101011000",
            "00000011111100110011111111000000001101101101011000",
            "00000011111100110011111111011000001101101101011000",
            "00000010001100110000000011011111101100101101011110",
            "00000010001100111111100011011111100100101101011110",
            "00000010001100111111100011011001100100101101000110",
            "11111010001100000000100011011001100100101101000110",
            "11111010001100000000100011011001100100101101000110",
            "11111010001100000000100011011001100100101101000110",
            "11111010001100000000100011011001100100101101000110",
            "11111010001100000000100011011001100100101101000110",
            "11111010001100000000100011011001100100101101011110",
            "11111010001100000000100011011010000000110011010000",
            "11111010001100000000100011011010011111110011010000",
            "11111010001100000000100011011010000000000011010000",
            "11111010001100000000111111011011111111111111010000",
            "11111010001100000000111111011011111111111111111111",
            "11111010001100000000000000000000000000000000000001",
            "11111010001100000000000000000000000000000000000001"
    };
    //Laberinto5 Zarco
    char laberinto5[32][51] = {
            "111111111111111111111111111111111111111111111111111",
            "100000000011111110000000000000100000011111111111111",
            "100000000011111110000000000000100000010000000000001",
            "100000000011111110000000000000000011110000000000001",
            "100000000010000110000111110000000010000000001000001",
            "100011111110000110000100000000000010000000001000001",
            "100011111110000110000100000000001110000000001000001",
            "100011111110000110000111111111111000000000001000001",
            "100011000000000000000111111111111000000000001000001",
            "100011000000000000000111111111111000000100001000001",
            "100011000000000000000111111111111000000100000000001",
            "100011000001111110000100000000001000000100000000001",
            "100000000001100010000100000000001000011111111111111",
            "100000000001100010000100000000001000011111111111111",
            "100000000001100010000100000000001000000000000000000",
            "111100011111100011111100010010001000000000000000000",
            "111100011111100011111111110011111000011001111111101",
            "100000010000000000000000010010000000011000000001101",
            "100000010000000000000000000010000000011000000001101",
            "100000010000111110000111111110000000011001111001101",
            "100011110001111110000111111110000000011000110001101",
            "100011110001100010000100000000000000011000110001101",
            "100011110001100010000100000000000000011000110001101",
            "100000000001100010000100000000000000011000110001101",
            "100000000001100010000100000000000000011000110001101",
            "100000000001100010000111111100000000011000110001101",
            "100000000001100010000111111100000000011000111111111",
            "111111000001100011111111111100000000000000000010001",
            "111111000000000000000111111100000000000000000010001",
            "111111000000000000000000000000000000000000000010001",
            "111111000000000000000000000000000000000000000000001",
            "111111111111111111111111111111111111111111111111111",
    };
    //Laberinto6 Limbo
    char Laberintolimbo_Matriz[32][42]={
            "111111111111111111111111111111111111111111",
            "111111111111111111111111111111111111111111",
            "111111111111111111111111111111111111111111",
            "111111100000000000000000000000000000000111",
            "111111100000000000000000000000000000000111",
            "111111100100110000011000001100001100000111",
            "111111100100110000011000001100001100000111",
            "111111100000111111111111111100001100000111",
            "111111100000111111111111111100001100000111",
            "111111100000111111111111111100001100000111",
            "000001100000110000000000000000001100000111",
            "000001100100110000000000000000001100000111",
            "110001100100110000011000001100001100000111",
            "110001100100000000000000000000001100000111",
            "110001100000000000000000000000001100000111",
            "110000000000111111111111111100001100000000",
            "110000000000111111111111111100001100000000",
            "110000000000000000000000000000001100000000",
            "111111100000000000000000000000001100000111",
            "111111100111000000011000001100001100000111",
            "110001100111000000011000001100001100000111",
            "110001100000000000000000000000000000000111",
            "110001100000000000000000000000000000000111",
            "110001111110001111111100011100000000000111",
            "110001111110001111111100011100001110000111",
            "110001111110001111111100011100001110000111",
            "110000000000000001110000000000001110000111",
            "110000000000000001110000000000000000000111",
            "110000011100000001110000000000000000000111",
            "111111111111111111111111111111111111111111",
            "111111111111111111111111111111111111111111",
            "111111111111111111111111111111111111111111",
    };
    if(!al_init())
    {
        printf("\nNo se inicio allegro");
        fin=1;
    }
    if(!al_install_keyboard())
    {
        printf("\nNo se pudo instalar el teclado");
        fin=1;
    }
    if(!al_init_image_addon())
    {
        printf("\nNo se iniciaron las imagenes");
        fin=1;
    }
    if(!al_install_audio())
    {
        printf("\nNo se cargo el com. audio");
        fin=1;
    }
    if(!al_init_acodec_addon())
    {
        printf("\nNo se inicio el codec");
        fin=1;
    }
    if(!al_reserve_samples(3))
    {
        printf("\nNo se pudo reservar las pistas");
        fin=1;
    }
    musica_fondo=al_load_sample("Music/MENU1.mp3");
    if(!musica_fondo)
    {
        printf("No se cargo la cancion");
        fin=1;
    }
    ICONO= al_load_bitmap("MENU/icono.png");
    if(!ICONO)
    {
        printf("No se cargo el icono\n");
        fin=1;
    }

    MENUPRIMERO= al_load_bitmap("MENU/MENU1.png");
    MENUSEGUNDO= al_load_bitmap("MENU/MENU2.png");
    MENUTERCERO= al_load_bitmap("MENU/MENU3.png");
    MENUCUARTO= al_load_bitmap("MENU/MENU4.png");
    MUNDOSPRUEBA= al_load_bitmap("MUNDOS/4_Plataforma_herejia.jpg");
    MENUINSTRUCCIONES= al_load_bitmap("MENU/CRETIDIS.png");
    MENUINSTRUCCIONES2= al_load_bitmap("MENU/INSTRCUCADW.png");
    MUÑECOPRUEBA= al_load_bitmap("PERSONAJE/sprites-mario.png");
    MundosSelect= al_load_bitmap("MENU/MUDOSSSS.png");
    if(!MENUPRIMERO||!MENUSEGUNDO||!MENUTERCERO||!MENUCUARTO||!MENUINSTRUCCIONES||!MENUINSTRUCCIONES2||!MundosSelect)
    {
        printf("Hubo un error con los Menus\n");
        fin=1;
    }
    MUNDO1FRAUDE= al_load_bitmap("MUNDOS/MUNDO1FRAUDE.png");
    MUNDO2TRAICION= al_load_bitmap("MUNDOS/2.traición.png");
    MUNDO3VIOLENCIA= al_load_bitmap("MUNDOS/laberinto3.jpg");
    MUNDO4HEREJIA= al_load_bitmap("MUNDOS/4_Plataforma_herejia(1).jpg");
    MUNDO5PEREZA= al_load_bitmap("MUNDOS/5_Plataforma_iraypereza.jpg");
    MUNDO6AVARICIA= al_load_bitmap("MUNDOS/6_Laberinto_avaricia.jpg");
    LABERINTOCINCO= al_load_bitmap("MUNDOS/MUNDOLABERINTO.png");
    MUNDO9LIMBO= al_load_bitmap("MUNDOS/Escenario 1.png");
    GANASTE= al_load_bitmap("MENU/GANASTE.jpeg");



    DISP=al_create_display(800,600);
    al_set_window_title(DISP, "El escape de los nueve círculos");
    al_set_display_icon(DISP,ICONO);
    al_clear_to_color(al_map_rgb(250,250,250));
    al_flip_display();

    eventos=al_create_event_queue();
    al_register_event_source(eventos, al_get_display_event_source(DISP));
    al_register_event_source(eventos,al_get_keyboard_event_source());

    while(!fin){
        if(SELECCIONAR==1)
        {
            al_stop_samples();
        }
        if(MENU>=1&&DENTROMUNDO==0) {
            al_play_sample(musica_fondo, 1, 0, 1, ALLEGRO_PLAYMODE_ONCE, NULL);
        }
        if (redibujar==1 && al_event_queue_is_empty(eventos)) {
            if(MENU>=1)
            {
                if(MENU==1&&SELECCIONAR==0)
                {
                    al_draw_scaled_bitmap(MENUPRIMERO,0,0,800,600,0,0,800,600,0);
                    printf("%d",MENU);
                }
                if(MENU==1&&SELECCIONAR==1)
                {
                    al_draw_scaled_bitmap(MundosSelect,0,0,800,600,0,0,800,600,0);
                    {
                        if(MUNDOUNO==1) {
                            DENTROMUNDO = 1;
                            al_draw_scaled_bitmap(MUNDO1FRAUDE, 0, 0, 3840, 2400, 0, 0, 2500, 1920, 0);

                        }
                        if(MUNDODOS==1)
                        {
                            DENTROMUNDO=1;
                            al_draw_scaled_bitmap(MUNDO2TRAICION,0, 0, 800, 600, 0, 0, 800, 600, 0);
                            printf("\nIMPRIMIR MUNDO 2");
                        }
                        if(MUNDOTRES==1)
                        {
                            DENTROMUNDO=1;
                            al_draw_scaled_bitmap(MUNDO3VIOLENCIA,0, 0, 800, 600, 0, 0, 800, 600, 0);
                            printf("\nIMPRIMIR MUNDO 3");
                        }
                        if(MUNDOCUATRO==1)
                        {
                            DENTROMUNDO=1;
                            al_draw_scaled_bitmap(LABERINTOCINCO, 0, 0, 3840, 2400, 0, 0, 800, 600, 0);
                            printf("\nIMPRIMIR MUNDO 4");
                        }
                        if(MUNDOCINCO==1)
                        {
                            DENTROMUNDO=1;
                            printf("\nIMPRIMIR MUNDO 5");
                            al_draw_scaled_bitmap(MUNDO6AVARICIA, 0, 0, 3840, 2400, 0, 0, 800, 600, 0);

                        }
                        if(MUNDOSEIS==1)
                        {
                            DENTROMUNDO=1;
                            al_draw_scaled_bitmap(MUNDO9LIMBO, 0, 0, 800, 600, 0, 0, 800, 600, 0);
                            printf("\nIMPRIMIR MUNDO 6");
                        }
                        if (DIRECTION == 2)
                            al_draw_scaled_bitmap(MUÑECOPRUEBA, 700, 0, 270, 385, marioX, marioY, 30, 40,
                                                      ALLEGRO_FLIP_HORIZONTAL);
                        else
                            al_draw_scaled_bitmap(MUÑECOPRUEBA, 700, 0, 270, 385, marioX, marioY, 30, 40, 0);
                        if (MUNDOSIETE == 1)

                        {
                            al_draw_scaled_bitmap(GANASTE,0, 0, 800, 600, 0, 0, 800, 600, 0);
                        }
                    }
                }
                if(MENU==2&&SELECCIONAR==0)
                {
                    al_draw_scaled_bitmap(MENUSEGUNDO,0,0,800,600,0,0,800,600,0);
                    printf("%d",MENU);
                }
                if(MENU==2&&SELECCIONAR==1)
                {
                    al_draw_scaled_bitmap(MENUINSTRUCCIONES2,0,0,800,600,0,0,800,600,0);
                }
                if(MENU==3&&SELECCIONAR==0)
                {
                    al_draw_scaled_bitmap(MENUTERCERO,0,0,800,600,0,0,800,600,0);
                }
                if(MENU==3&&SELECCIONAR==1)
                {
                    al_draw_scaled_bitmap(MENUINSTRUCCIONES,0,0,800,600,0,0,800,600,0);
                }
                if(MENU==4&&SELECCIONAR==0)
                {
                    al_draw_scaled_bitmap(MENUCUARTO,0,0,800,600,0,0,800,600,0);
                    printf("%d",MENU);
                }
                if(MENU==4&&SELECCIONAR==1)
                {
                    fin=1;
                }
            }
            al_flip_display();
            redibujar = 0;
        }
        al_wait_for_event(eventos, &evento);
        switch(evento.type) {
            case ALLEGRO_EVENT_DISPLAY_CLOSE:
                fin = 1;
                break;
            case ALLEGRO_EVENT_DISPLAY_SWITCH_IN:
                redibujar=1;
                break;
            case ALLEGRO_EVENT_KEY_CHAR:
                switch(evento.keyboard.keycode) {
                    case ALLEGRO_KEY_UP:
                        if(SELECCIONAR==0){
                            if (MENU >= 1){
                                MENU -= 1;
                                redibujar=1;
                            }
                        }
                        break;
                    case ALLEGRO_KEY_DOWN:
                        if(SELECCIONAR==0){
                            if (MENU <= 4) {
                                MENU += 1;
                                redibujar = 1;
                            }
                        }
                        break;
                    case ALLEGRO_KEY_RIGHT:
                        SELECCIONAR = 1;
                        redibujar = 1;
                        break;
                    case ALLEGRO_KEY_LEFT:
                        SELECCIONAR = 0;
                        redibujar = 1;
                        break;
                    case ALLEGRO_KEY_W:
                        if(SELECCIONAR==1){
                            if(MUNDOUNO==1) {
                                if (laberinto_matriz[x_matriz-1][y_matriz] != '1') {
                                    marioY -= 12;
                                    x_matriz--;
                                    redibujar = 1;
                                }
                                if(ganaste_lab(x_matriz,y_matriz)!=0)
                                {
                                    MUNDOUNO=0;
                                    MUNDODOS=1;
                                    marioY=400;
                                    marioX=0;
                                    y_matriz=0;
                                    x_matriz=21;
                                }
                            }
                            if(MUNDODOS==1) {
                                if (laberinto2[x_matriz-1][y_matriz]!= '1') {
                                    marioY -= 18;
                                    x_matriz--;
                                    redibujar =1;
                                }
                                if(ganaste_lab(x_matriz,y_matriz)!=0){
                                    MUNDODOS=0;
                                    MUNDOTRES=1;
                                    marioY=400;
                                    marioX=0;
                                    y_matriz=1;
                                    x_matriz=31;
                                }
                            }
                            if(MUNDOTRES==1) {
                                if (laberinto3[x_matriz-1][y_matriz] != '1') {
                                    marioY -= 12;
                                    x_matriz--;
                                    redibujar = 1;
                                }
                                if(ganaste_lab(x_matriz,y_matriz)!=0){
                                    MUNDOTRES=0;
                                    MUNDOCUATRO=1;
                                    marioY=300;
                                    marioX=0;
                                    y_matriz=0;
                                    x_matriz=17;
                                }
                            }
                            if(MUNDOCUATRO==1) {
                                if (LaberintoCinco_Matriz[x_matriz-1][y_matriz] != '1') {
                                    marioY -= 16;
                                    x_matriz--;
                                    redibujar = 1;
                                }
                                if(ganaste_lab(x_matriz,y_matriz)!=0){
                                    MUNDOCUATRO=0;
                                    MUNDOCINCO=1;
                                    marioY=180;
                                    marioX=700;
                                    y_matriz=46;
                                    x_matriz=11;
                                }
                            }
                            if(MUNDOCINCO==1) {
                                if (laberinto5[x_matriz-1][y_matriz] != '1') {
                                    marioY -= 16;
                                    x_matriz--;
                                    redibujar = 1;
                                }
                                if(ganaste_lab(x_matriz,y_matriz)!=0){
                                    MUNDOCINCO=0;
                                    MUNDOSEIS=1;
                                    marioY=200;
                                    marioX=0;
                                    y_matriz=0;
                                    x_matriz=11;
                                }
                            }
                            if(MUNDOSEIS==1) {
                                if (Laberintolimbo_Matriz[x_matriz-1][y_matriz] != '1') {
                                    marioY -= 17;
                                    x_matriz--;
                                    redibujar = 1;
                                }
                                if(ganaste_lab(x_matriz,y_matriz)!=0){
                                    MUNDOSEIS=0;
                                    MUNDOSIETE=1;
                                }
                            }
                            redibujar = 1;
                        }
                        break;
                    case ALLEGRO_KEY_D:
                        if(SELECCIONAR==1){
                            DERECHA = 1;
                            DIRECTION = 2;
                            if(MUNDOUNO==1) {
                                if( laberinto_matriz[x_matriz][y_matriz+1] != '1' ) {
                                    marioX += 12;
                                    y_matriz++;
                                }
                                if(ganaste_lab(x_matriz,y_matriz)!=0)
                                {
                                    MUNDOUNO=0;
                                    MUNDODOS=1;
                                    marioY=400;
                                    marioX=0;
                                    y_matriz=0;
                                    x_matriz=21;
                                }
                            }
                            if(MUNDODOS==1){
                                if(laberinto2[x_matriz][y_matriz+1]!='1'){
                                    marioX+=18;
                                    y_matriz++;
                                }
                                if(ganaste_lab(x_matriz,y_matriz)!=0)
                                {
                                    MUNDODOS=0;
                                    MUNDOTRES=1;
                                    marioY=400;
                                    marioX=0;
                                    y_matriz=1;
                                    x_matriz=31;
                                }
                            }
                            if(MUNDOTRES==1){
                                if(laberinto3[x_matriz][y_matriz+1]!='1'){
                                    marioX+=12;
                                    y_matriz++;
                                }
                                if(ganaste_lab(x_matriz,y_matriz)!=0)
                                {
                                    MUNDOTRES=0;
                                    MUNDOCUATRO=1;
                                    marioY=300;
                                    marioX=0;
                                    y_matriz=0;
                                    x_matriz=17;
                                }
                            }
                            if(MUNDOCUATRO==1){
                                if(LaberintoCinco_Matriz[x_matriz][y_matriz+1]!='1'){
                                    marioX+=16;
                                    y_matriz++;
                                }
                                if(ganaste_lab(x_matriz,y_matriz)!=0)
                                {
                                    MUNDOCUATRO=0;
                                    MUNDOCINCO=1;
                                    marioY=180;
                                    marioX=700;
                                    y_matriz=46;
                                    x_matriz=11;
                                }
                            }
                            if(MUNDOCINCO==1){
                                if(laberinto5[x_matriz][y_matriz+1]!='1'){
                                    marioX+=16;
                                    y_matriz++;
                                }
                                if(ganaste_lab(x_matriz,y_matriz)!=0)
                                {
                                    MUNDOCINCO=0;
                                    MUNDOSEIS=1;
                                    marioY=200;
                                    marioX=0;
                                    y_matriz=0;
                                    x_matriz=11;
                                }
                            }
                            if(MUNDOSEIS==1){
                                if(Laberintolimbo_Matriz[x_matriz][y_matriz+1]!='1'){
                                    marioX+=17;
                                    y_matriz++;
                                }
                                if(ganaste_lab(x_matriz,y_matriz)!=0)
                                {
                                    MUNDOSEIS=0;
                                    MUNDOSIETE=1;
                                }
                            }
                            redibujar = 1;
                        }
                        break;
                    case ALLEGRO_KEY_A:
                        if(SELECCIONAR==1) {
                            IZQUIERDA = 1;
                            DIRECTION = 1;
                            if(MUNDOUNO==1) {
                                if (laberinto_matriz[x_matriz][y_matriz-1] != '1') {
                                    marioX -= 12;
                                    y_matriz--;
                                }
                                if(ganaste_lab(x_matriz,y_matriz)!=0)
                                {
                                    MUNDOUNO=0;
                                    MUNDODOS=1;
                                    marioY=400;
                                    marioX=0;
                                    y_matriz=0;
                                    x_matriz=21;
                                }
                            }
                            if(MUNDODOS==1) {
                                if (laberinto2[x_matriz][y_matriz-1] != '1') {
                                    marioX -= 18;
                                    y_matriz--;
                                }
                                if(ganaste_lab(x_matriz,y_matriz)!=0)
                                {
                                    MUNDODOS=0;
                                    MUNDOTRES=1;
                                    marioY=400;
                                    marioX=0;
                                    y_matriz=1;
                                    x_matriz=31;
                                }
                            }
                            if(MUNDOTRES==1) {
                                if (laberinto3[x_matriz][y_matriz-1] != '1') {
                                    marioX -= 12;
                                    y_matriz--;
                                }
                                if(ganaste_lab(x_matriz,y_matriz)!=0)
                                {
                                    MUNDOTRES=0;
                                    MUNDOCUATRO=1;
                                    marioY=300;
                                    marioX=0;
                                    y_matriz=0;
                                    x_matriz=17;
                                }
                            }
                            if(MUNDOCUATRO==1) {
                                if (LaberintoCinco_Matriz[x_matriz][y_matriz-1] != '1') {
                                    marioX -= 16;
                                    y_matriz--;
                                }
                                if(ganaste_lab(x_matriz,y_matriz)!=0)
                                {
                                    MUNDOCUATRO=0;
                                    MUNDOCINCO=1;
                                    marioY=180;
                                    marioX=700;
                                    y_matriz=46;
                                    x_matriz=11;
                                }
                            }
                            if(MUNDOCINCO==1) {
                                if (laberinto5[x_matriz][y_matriz-1] != '1') {
                                    marioX -= 16;
                                    y_matriz--;
                                }
                                if(ganaste_lab(x_matriz,y_matriz)!=0)
                                {
                                    MUNDOCINCO=0;
                                    MUNDOSEIS=1;
                                    marioY=200;
                                    marioX=0;
                                    y_matriz=0;
                                    x_matriz=11;
                                }
                            }
                            if(MUNDOSEIS==1) {
                                if (Laberintolimbo_Matriz[x_matriz][y_matriz-1] != '1') {
                                    marioX -= 17;
                                    y_matriz--;
                                }
                                if(ganaste_lab(x_matriz,y_matriz)!=0)
                                {
                                    MUNDOSEIS=0;
                                    MUNDOSIETE=1;
                                }
                            }
                            redibujar = 1;
                        }
                        break;
                    case ALLEGRO_KEY_S:
                        ABAJO=1;
                        printf("\nS");
                        if(SELECCIONAR==1){
                            if(MUNDOUNO==1) {
                                if( laberinto_matriz[x_matriz+1][y_matriz] != '1' ){
                                    marioY += 12;
                                    x_matriz++;
                                    redibujar = 1;
                                }
                                if(ganaste_lab(x_matriz,y_matriz)!=0)
                                {
                                    MUNDOUNO=0;
                                    MUNDODOS=1;
                                    marioY=400;
                                    marioX=0;
                                    y_matriz=0;
                                    x_matriz=21;
                                }
                            }
                            if(MUNDODOS==1) {
                                if( laberinto2[x_matriz+1][y_matriz] != '1' ){
                                    marioY += 18;
                                    x_matriz++;
                                    redibujar = 1;
                                }
                                if(ganaste_lab(x_matriz,y_matriz)!=0)
                                {
                                    MUNDODOS=0;
                                    MUNDOTRES=1;
                                    marioY=400;
                                    marioX=0;
                                    y_matriz=1;
                                    x_matriz=31;
                                }
                            }
                            if(MUNDOTRES==1) {
                                if( laberinto3[x_matriz+1][y_matriz] != '1' ){
                                    marioY += 12;
                                    x_matriz++;
                                    redibujar = 1;
                                }
                                if(ganaste_lab(x_matriz,y_matriz)!=0)
                                {
                                    MUNDOTRES=0;
                                    MUNDOCUATRO=1;
                                    marioY=300;
                                    marioX=0;
                                    y_matriz=0;
                                    x_matriz=17;
                                }
                            }
                            if(MUNDOCUATRO==1) {
                                if( LaberintoCinco_Matriz[x_matriz+1][y_matriz] != '1' ){
                                    marioY += 16;
                                    x_matriz++;
                                    redibujar = 1;
                                }
                                if(ganaste_lab(x_matriz,y_matriz)!=0)
                                {
                                    MUNDOCUATRO=0;
                                    MUNDOCINCO=1;
                                    marioY=180;
                                    marioX=700;
                                    y_matriz=46;
                                    x_matriz=11;
                                }
                            }
                            if(MUNDOCINCO==1) {
                                if( laberinto5[x_matriz+1][y_matriz] != '1' ){
                                    marioY += 16;
                                    x_matriz++;
                                    redibujar = 1;
                                }
                                if(ganaste_lab(x_matriz,y_matriz)!=0)
                                {
                                    MUNDOCINCO=0;
                                    MUNDOSEIS=1;
                                    marioY=200;
                                    marioX=0;
                                    y_matriz=0;
                                    x_matriz=11;
                                }
                            }
                            if(MUNDOSEIS==1) {
                                if( Laberintolimbo_Matriz[x_matriz+1][y_matriz] != '1' ){
                                    marioY += 17;
                                    x_matriz++;
                                    redibujar = 1;
                                }
                                if(ganaste_lab(x_matriz,y_matriz)!=0)
                                {
                                    MUNDOSEIS=0;
                                    MUNDOSIETE=1;
                                }
                            }

                        }
                        break;

                    case ALLEGRO_KEY_1:
                        if(MENU==1&&SELECCIONAR==1&&DENTROMUNDO==0){
                            MUNDOUNO = 1;
                            printf("\n Se ha seleccionado el mundo 1");
                            redibujar = 1;
                        }
                        break;
                }
        }
    }
    al_destroy_event_queue(eventos);
    al_destroy_display(DISP);
    return 0;
}